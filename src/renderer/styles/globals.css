@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  font-family:
    -apple-system,
    BlinkMacSystemFont,
    'Segoe UI',
    Roboto,
    Oxygen,
    Ubuntu,
    Cantarell,
    'Open Sans',
    'Helvetica Neue',
    sans-serif;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #9ca3af;
  border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb {
  background: #4b5563;
}

::-webkit-scrollbar-thumb:hover {
  background: #6b7280;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: #6b7280;
}

/* Draggable title bar area */
.titlebar-drag {
  -webkit-app-region: drag;
}

.titlebar-no-drag {
  -webkit-app-region: no-drag;
}

/* Tree view */
.tree-item {
  @apply flex items-center gap-2 px-2 py-1.5 rounded-lg cursor-pointer transition-colors;
}

.tree-item:hover {
  @apply bg-slate-50 dark:bg-slate-800;
}

.tree-item.selected {
  @apply bg-emerald-50 dark:bg-emerald-900/20;
}

/* Tree view - directories */
.tree-root {
  @apply px-1;
}

.tree-directory-header {
  @apply flex items-center gap-1.5 py-2 pr-2 rounded-lg cursor-pointer transition-colors;
  @apply text-gray-700 dark:text-gray-300;
  margin: 2px 0;
}

.tree-directory-header:hover {
  @apply bg-slate-200/50 dark:bg-slate-700/40;
}

.tree-folder-icon {
  @apply text-gray-400 dark:text-gray-500 flex-shrink-0;
}

/* Tree view - chevron */
.tree-chevron {
  @apply w-4 h-4 flex items-center justify-center flex-shrink-0;
  @apply text-gray-400 dark:text-gray-500;
  transition: transform 0.15s ease;
}

.tree-chevron.expanded {
  transform: rotate(90deg);
}

/* Tree view - files */
.tree-file {
  @apply flex items-center gap-2 py-2 px-2 rounded-lg cursor-pointer transition-colors;
  @apply bg-slate-100/50 dark:bg-slate-800/30;
  margin: 2px 4px;
}

.tree-file:hover {
  @apply bg-slate-200/70 dark:bg-slate-700/50;
}

.tree-file.selected {
  @apply bg-emerald-100 dark:bg-emerald-900/40 text-emerald-800 dark:text-emerald-200;
}

/* Tree children container */
.tree-children {
  @apply overflow-hidden;
}

/* Breadcrumb */
.breadcrumb-container {
  @apply flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 overflow-x-auto;
}

.breadcrumb-label {
  @apply text-gray-400 dark:text-gray-500 flex-shrink-0 mr-1;
}

.breadcrumb-path {
  @apply truncate;
}

.breadcrumb-separator {
  @apply text-gray-300 dark:text-gray-600 flex-shrink-0;
}

.breadcrumb-arrow {
  @apply text-gray-300 dark:text-gray-600 flex-shrink-0 mx-0.5;
}

.breadcrumb-item-wrapper {
  @apply flex items-center flex-shrink-0;
}

.breadcrumb-item {
  @apply px-1.5 py-0.5 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-colors;
}

.breadcrumb-current {
  @apply font-medium text-gray-700 dark:text-gray-300 flex-shrink-0;
}

/* Global Config Section */
.global-config-section {
  @apply border-b border-gray-200 dark:border-gray-700;
  @apply bg-purple-50/30 dark:bg-purple-950/20;
}

.global-config-header {
  @apply flex items-center gap-2 px-3 py-2.5 cursor-pointer;
  @apply text-purple-700 dark:text-purple-300;
  @apply bg-purple-100/50 dark:bg-purple-900/30;
  @apply hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors;
  @apply text-xs font-semibold uppercase tracking-wider;
}

.global-config-content {
  @apply pb-2 px-1;
}

.global-config-item {
  @apply flex items-center gap-2 py-2 px-2 mx-1 rounded-lg cursor-pointer transition-colors;
  @apply text-gray-700 dark:text-gray-300;
  @apply bg-purple-50/50 dark:bg-purple-900/20;
  margin-bottom: 2px;
}

.global-config-item:hover {
  @apply bg-purple-100 dark:bg-purple-900/40;
}

.global-config-item.selected {
  @apply bg-purple-200 dark:bg-purple-800/50 text-purple-800 dark:text-purple-200;
}

.global-config-item.read-only {
  @apply opacity-80;
}

.global-config-children {
  @apply overflow-hidden;
}

/* AI Actions Toolbar */
.ai-toolbar {
  @apply flex flex-col gap-2 px-4 py-2;
  @apply bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20;
  @apply border-b border-purple-200 dark:border-purple-800/50;
}

/* AI Instructions Section */
.ai-instructions-section {
  @apply w-full;
}

.ai-instructions-toggle {
  @apply flex items-center gap-1.5 text-xs text-gray-600 dark:text-gray-400 cursor-pointer;
  @apply hover:text-purple-600 dark:hover:text-purple-400 transition-colors;
}

.ai-icon-small {
  @apply w-3 h-3;
}

.ai-instructions-badge {
  @apply ml-1 px-1.5 py-0.5 text-xs font-medium rounded-full;
  @apply bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300;
}

.ai-instructions-input {
  @apply w-full mt-2 px-3 py-2 text-sm rounded-md resize-none;
  @apply bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700;
  @apply text-gray-700 dark:text-gray-300 placeholder-gray-400 dark:placeholder-gray-500;
  @apply focus:outline-none focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-600;
}

.ai-toolbar-disabled {
  @apply bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700;
}

.ai-toolbar-message {
  @apply text-sm text-gray-500 dark:text-gray-400;
}

.ai-toolbar-buttons {
  @apply flex items-center gap-2;
}

.ai-btn {
  @apply inline-flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-all;
  @apply disabled:opacity-50 disabled:cursor-not-allowed;
}

.ai-btn-action {
  @apply bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700;
  @apply text-gray-700 dark:text-gray-300;
  @apply hover:bg-purple-50 dark:hover:bg-purple-900/30 hover:border-purple-300 dark:hover:border-purple-700;
  @apply hover:text-purple-700 dark:hover:text-purple-300;
}

.ai-btn-primary {
  @apply bg-purple-600 dark:bg-purple-700 text-white;
  @apply hover:bg-purple-700 dark:hover:bg-purple-600;
}

.ai-btn-secondary {
  @apply bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300;
  @apply hover:bg-gray-200 dark:hover:bg-gray-700;
}

.ai-icon {
  @apply w-4 h-4;
}

.ai-toolbar-provider {
  @apply text-xs text-gray-500 dark:text-gray-400;
}

/* AI Preview mode */
.ai-toolbar-preview {
  @apply flex-col items-stretch;
  @apply max-h-96;
}

.ai-toolbar-header {
  @apply flex items-center justify-between mb-2;
}

.ai-toolbar-status {
  @apply flex items-center gap-2 text-sm font-medium text-purple-700 dark:text-purple-300;
}

.ai-preview-content {
  @apply flex-1 overflow-auto bg-white dark:bg-gray-900 rounded-md p-3 mb-2;
  @apply border border-gray-200 dark:border-gray-700;
  max-height: 300px;
}

.ai-preview-content pre {
  @apply text-xs text-gray-700 dark:text-gray-300 whitespace-pre-wrap font-mono;
}

.ai-toolbar-actions {
  @apply flex items-center gap-2 pt-2 border-t border-gray-200 dark:border-gray-700;
}

/* AI Error */
.ai-toolbar-error {
  @apply bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800/50;
}

.ai-error-message {
  @apply text-sm text-red-600 dark:text-red-400;
}

/* AI Spinner */
.ai-spinner {
  @apply w-4 h-4 border-2 border-purple-300 dark:border-purple-700 border-t-purple-600 dark:border-t-purple-400 rounded-full;
  animation: ai-spin 0.8s linear infinite;
}

@keyframes ai-spin {
  to {
    transform: rotate(360deg);
  }
}
